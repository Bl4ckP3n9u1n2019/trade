# trade.plugins.daytrades

daytrades: Daytrades plugin for the trade module.

This plugin provides the Daytrade class, a subclass of Operation, and
the fetch_daytrades() task for the OperationContainer.

With this plugin the trade module can:
- Identify daytrades in a group of operations
- Separate daytrades from other operations on the OperationContainer
- Accumulate Daytrades on the portfolio

It provides:
- Daytrade, a subclass of trade.Operation
- the fetch_daytrades() task to the OperationContainer

Daytrades can be accumulated just like any other Operation object.
They will update the accumulated results, but will not change the
quantity or the price of the asset on the Portfolio.



## Classes


### Daytrade(Operation):
A day trade operation.

Day trades are operations of purchase and sale of an Asset on
the same date.

#### Attributes:
+ asset: An asset instance, the asset that is being traded.
+ quantity: The traded quantity of the asset.
+ purchase: A Operation object representing the purchase of the asset.
+ sale: A Operation object representing the sale of the asset.
+ update_position: Set to False, as day trades don't change the portfolio position; they just create results.

#### Properties:

##### results:
Returns the profit or the loss generated by the daytrade.

#### Methods:

##### extract_daytrade(self, purchase, sale):
Extract the daytraded quantity from 2 operations.

Returns the daytraded quantity.

##### append_to_container_positions(self, container):
Save a Daytrade object in the container positions.

If there is already a daytrade with the same asset on the
container's position, then the daytrades are merged.



## OperationContainer tasks:

### fetch_daytrades(container):
A OperationContainer task.

Fetch the daytrades from the OperationContainer operations.

The daytrades are placed on the container positions under the
'daytrades' key, inexed by the Daytrade asset's symbol.



## Helper functions:

### daytrade_condition(operation_a, operation_b):
Checks if the operations are day trades.

### find_purchase_and_sale(operation_a, operation_b):
Find which is a purchase and which is a sale.



Copyright (c) 2015 Rafael da Silva Rocha  
rocha.rafaelsilva@gmail.com  
http://github.com/rochars/trade  
http://trade.readthedocs.org  
